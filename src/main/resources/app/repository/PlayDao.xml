<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="app.repository.PlayDao">
    <select id="getChallenge" resultType="app.entity.Play">
        SELECT challenge
        	FROM challenges AS ch
        	INNER JOIN (SELECT CEIL(RAND() * (SELECT MAX(challenge_id) FROM challenges)) AS id) AS tmp
        	ON ch.challenge_id = tmp.id
    </select>
</mapper>