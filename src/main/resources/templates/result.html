<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
 	<head>
 		<!-- ----------デザイン設定---------- -->
 		<link rel="stylesheet" th:href="@{/webjars/bootstrap/5.1.3/css/bootstrap.min.css}">
 		<link rel="stylesheet" th:href="@{/css/design.css}">
		<title>PlayApp | Result</title>
   		<!-- ----------スマホサイズに調整---------- -->
   		<meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1">
  	</head>
  	<body>
  	<!-- ----------ナビゲーションバー---------- -->
 	<!--  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
 		<div class="col text-center">
 			<a class="navbar-brand" th:href="@{/play}">ネガポジAIチェック</a>
 		</div>
 	</nav>-->
 	<header>
 		<a class="nav" th:href="@{/play}">ネガポジAIチェック</a>
 	</header>
 	<div class="b-color"><!-- 背景色 -->
 		<h3 class="center">結果を確認しよう</h3>
 		<!-- ----------投稿した文章---------- -->
		<div class="center result-main">
			<p>あなたの投稿した文章は</p>
	 		<p class="result-char" th:text="${analyzedSentimentText}">投稿した文章</p>
	 	</div>
	 	<!-- ----------スコア---------- -->
	 	<div class="center result-main">
			<p>あなたのスコア（100点満点）</p>
	 		<p class="inline1 result-char" th:text="${score}">スコア</p>
	 		<p class="inline2"> 点</p>
	 	</div>
	 	<!-- ----------順位---------- -->
	 	<div class="center result-main">
	 		<p>あなたの順位</p>
	 		<p class="inline1">第 </p>
			<p class="inline2 result-char" th:text="${yourRank}">順位</p>
			<p class="inline3">位 / </p>
			<p class="inline4" th:text="${totalCount}">レコード総数</p>
			<p class="inline5">人中</p>
		</div>
		<!-- ----------グラフ---------- -->
		<canvas id="sentimentScoreChart" width="200" height="100" aria-label="PlayApp" role="img"></canvas>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js"></script>
		<script type="text/javascript" th:inline="javascript">
			const ctx = document.getElementById("sentimentScoreChart");
			const barChart = new Chart(ctx, {
				type: "bar",
				data: {
					labels: [[${inputArray}]],
					datasets: [{
						label: "test",
						data: [[${scoreArray}]],
						backgroundColor: "rgba(219,39,91,0.5)"
					}]
				},
				options: {
					title: {
						display: true,
						text: "test-title"
					},
					responsive: true,
					//maintainAspectRatio: false,
					indexAxis: "y",
					layout: {
						padding: 20
					}
				}
			});
		</script>
	 	<!-- ----------別画面へのへのリンク---------- -->
	 	<div class="center">
	 		<a class="link-original" type="button" th:href="@{/play/sentiment}">部門選択に戻る</a>
	 	</div>
		<br>
	<!-- ----------フッター---------- -->
	<footer class="footer" style="text-align: center">
   		<p>&copy; 2022. Sentiment-app.com</p>
   	</footer>
	</div>
  	 <!-- ----------デザイン設定---------- -->
	<script th:href="@{/webjars/jquery/3.3.1/js/jquery.min.js}"></script>
	<script th:href="@{/webjars/bootstrap/5.1.3/js/bootstrap.min.js}"></script>
  	</body>
</html>